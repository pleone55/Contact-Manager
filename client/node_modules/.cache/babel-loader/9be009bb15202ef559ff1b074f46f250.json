{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/AuthContext';import AlertContext from'../../context/alert/AlertContext';var Login=function Login(props){var authContext=useContext(AuthContext);var loginUser=authContext.loginUser,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='Invalid credentials'){setAlert(error,'danger');clearErrors();}//eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;var onChange=function onChange(event){return setUser(_objectSpread({},user,_defineProperty({},event.target.name,event.target.value)));};var onSubmit=function onSubmit(event){event.preventDefault();if(email===''||password===''){setAlert('Please fill in all fields','danger');}else{loginUser({email:email,password:password});}};return React.createElement(\"div\",{className:\"form-container\"},React.createElement(\"h1\",null,\"Account \",React.createElement(\"span\",{className:\"text-primary\"},\"Login\")),React.createElement(\"form\",{onSubmit:onSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange})),React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"})));};export default Login;","map":{"version":3,"sources":["C:/Users/Paul/desktop/Projects/react/contact-manager/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","Login","props","authContext","loginUser","error","clearErrors","isAuthenticated","alertContext","setAlert","history","push","email","password","user","setUser","onChange","event","target","name","value","onSubmit","preventDefault"],"mappings":"2jBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,WAAP,KAAwB,gCAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,KAAK,CAAI,CACnB,GAAMC,CAAAA,WAAW,CAAGN,UAAU,CAACE,WAAD,CAA9B,CADmB,GAEXK,CAAAA,SAFW,CAEwCD,WAFxC,CAEXC,SAFW,CAEAC,KAFA,CAEwCF,WAFxC,CAEAE,KAFA,CAEOC,WAFP,CAEwCH,WAFxC,CAEOG,WAFP,CAEoBC,eAFpB,CAEwCJ,WAFxC,CAEoBI,eAFpB,CAInB,GAAMC,CAAAA,YAAY,CAAGX,UAAU,CAACG,YAAD,CAA/B,CAJmB,GAKXS,CAAAA,QALW,CAKED,YALF,CAKXC,QALW,CAOnBX,SAAS,CAAC,UAAM,CACZ,GAAGS,eAAH,CAAoB,CAChBL,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACH,CAED,GAAGN,KAAK,GAAK,qBAAb,CAAoC,CAChCI,QAAQ,CAACJ,KAAD,CAAQ,QAAR,CAAR,CACAC,WAAW,GACd,CACD;AACH,CAVQ,CAUN,CAACD,KAAD,CAAQE,eAAR,CAAyBL,KAAK,CAACQ,OAA/B,CAVM,CAAT,CAPmB,cAmBKd,QAAQ,CAAC,CAC7BgB,KAAK,CAAE,EADsB,CAE7BC,QAAQ,CAAE,EAFmB,CAAD,CAnBb,wCAmBZC,IAnBY,eAmBNC,OAnBM,kBAwBXH,CAAAA,KAxBW,CAwBSE,IAxBT,CAwBXF,KAxBW,CAwBJC,QAxBI,CAwBSC,IAxBT,CAwBJD,QAxBI,CA0BnB,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,QAAIF,CAAAA,OAAO,kBAAMD,IAAN,oBAAaG,KAAK,CAACC,MAAN,CAAaC,IAA1B,CAAiCF,KAAK,CAACC,MAAN,CAAaE,KAA9C,GAAX,EAAtB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAJ,KAAK,CAAI,CACtBA,KAAK,CAACK,cAAN,GAEA,GAAGV,KAAK,GAAK,EAAV,EAAgBC,QAAQ,GAAK,EAAhC,CAAoC,CAChCJ,QAAQ,CAAC,2BAAD,CAA8B,QAA9B,CAAR,CACH,CAFD,IAEO,CACHL,SAAS,CAAC,CACNQ,KAAK,CAALA,KADM,CAENC,QAAQ,CAARA,QAFM,CAAD,CAAT,CAIH,CACJ,CAXD,CAaA,MACI,4BAAK,SAAS,CAAC,gBAAf,EACI,yCACY,4BAAM,SAAS,CAAC,cAAhB,UADZ,CADJ,CAII,4BAAM,QAAQ,CAAEQ,QAAhB,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,OAAf,UADJ,CAEI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,KAAK,CAAET,KAAxC,CAA+C,QAAQ,CAAEI,QAAzD,EAFJ,CADJ,CAKI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,OAAO,CAAC,UAAf,aADJ,CAEI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,UAA5B,CAAuC,KAAK,CAAEH,QAA9C,CAAwD,QAAQ,CAAEG,QAAlE,EAFJ,CALJ,CASI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,CAAmC,SAAS,CAAC,2BAA7C,EATJ,CAJJ,CADJ,CAkBH,CA3DD,CA4DA,cAAef,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport AuthContext from '../../context/auth/AuthContext';\r\nimport AlertContext from '../../context/alert/AlertContext';\r\n\r\nconst Login = props => {\r\n    const authContext = useContext(AuthContext);\r\n    const { loginUser, error, clearErrors, isAuthenticated } = authContext;\r\n\r\n    const alertContext = useContext(AlertContext);\r\n    const { setAlert } = alertContext;\r\n\r\n    useEffect(() => {\r\n        if(isAuthenticated) {\r\n            props.history.push('/');\r\n        }\r\n\r\n        if(error === 'Invalid credentials') {\r\n            setAlert(error, 'danger');\r\n            clearErrors();\r\n        }\r\n        //eslint-disable-next-line\r\n    }, [error, isAuthenticated, props.history]);\r\n\r\n    const [user, setUser] = useState({\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const { email, password } = user;\r\n\r\n    const onChange = event => setUser({ ...user, [event.target.name]: event.target.value });\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        \r\n        if(email === '' || password === '') {\r\n            setAlert('Please fill in all fields', 'danger');\r\n        } else {\r\n            loginUser({\r\n                email,\r\n                password\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <h1>\r\n                Account <span className=\"text-primary\">Login</span>\r\n            </h1>\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} />\r\n                </div>\r\n                <input type=\"submit\" value=\"Login\" className=\"btn btn-primary btn-block\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}