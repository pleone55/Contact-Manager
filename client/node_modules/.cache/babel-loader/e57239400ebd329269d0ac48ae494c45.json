{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import ContactContext from'./ContactContext';import ContactReducer from'./ContactReducer';import{ADD_CONTACT,CONTACT_ERROR,DELETE_CONTACT,SET_CURRENT,CLEAR_CURRENT,UPDATE_CONTACT,FILTER_CONTACTS,CLEAR_FILTER,GET_CONTACTS,CLEAR_CONTACTS}from'../types';var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filtered:null,error:null};var _useReducer=useReducer(ContactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//Get Contacts\nvar getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('http://localhost:7000/api/contacts');case 3:res=_context.sent;dispatch({type:GET_CONTACTS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:CONTACT_ERROR,playload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();//Add Contact\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('http://localhost:7000/api/contacts',contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,playload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();//Delete Contact\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"http://localhost:7000/api/contacts/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_ERROR,playload:_context3.t0.response.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();//Update Contact\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Content-Type':'application/json'}};_context4.prev=1;_context4.next=4;return axios.put(\"http://localhost:7000/api/contacts/\".concat(contact._id),contact,config);case 4:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);dispatch({type:CONTACT_ERROR,playload:_context4.t0.response.msg});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();//Clear Contacts\nvar clearContacts=function clearContacts(){dispatch({type:CLEAR_CONTACTS});};//Set Current Contact\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};//Clear Current Contact\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};//Filter Contacts\nvar filterContacts=function filterContacts(text){dispatch({type:FILTER_CONTACTS,payload:text});};//Clear Filter\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};return React.createElement(ContactContext.Provider,{value:{contacts:state.contacts,current:state.current,filtered:state.filtered,error:state.error,addContact:addContact,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,updateContact:updateContact,filterContacts:filterContacts,clearFilter:clearFilter,getContacts:getContacts,clearContacts:clearContacts}},props.children);};export default ContactState;","map":{"version":3,"sources":["C:/Users/Paul/desktop/Projects/react/contact-manager/client/src/context/contact/ContactState.js"],"names":["React","useReducer","axios","ContactContext","ContactReducer","ADD_CONTACT","CONTACT_ERROR","DELETE_CONTACT","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","FILTER_CONTACTS","CLEAR_FILTER","GET_CONTACTS","CLEAR_CONTACTS","ContactState","props","initialState","contacts","current","filtered","error","state","dispatch","getContacts","get","res","type","payload","data","playload","response","msg","addContact","contact","config","headers","post","deleteContact","id","delete","updateContact","put","_id","clearContacts","setCurrent","clearCurrent","filterContacts","text","clearFilter","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport ContactContext from './ContactContext';\r\nimport ContactReducer from './ContactReducer';\r\nimport {\r\n    ADD_CONTACT,\r\n    CONTACT_ERROR,\r\n    DELETE_CONTACT,\r\n    SET_CURRENT,\r\n    CLEAR_CURRENT,\r\n    UPDATE_CONTACT,\r\n    FILTER_CONTACTS,\r\n    CLEAR_FILTER,\r\n    GET_CONTACTS,\r\n    CLEAR_CONTACTS\r\n} from '../types';\r\n\r\nconst ContactState = props => {\r\n    const initialState = {\r\n        contacts: null,\r\n        current: null,\r\n        filtered: null,\r\n        error: null\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(ContactReducer, initialState);\r\n\r\n    //Get Contacts\r\n    const getContacts = async() => {\r\n        try {\r\n            const res = await axios.get('http://localhost:7000/api/contacts');\r\n            dispatch({ type: GET_CONTACTS, payload: res.data });\r\n\r\n        } catch (err) {\r\n            dispatch({ type: CONTACT_ERROR, playload: err.response.msg });\r\n        }\r\n    }\r\n\r\n    //Add Contact\r\n    const addContact = async(contact) => {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n            const res = await axios.post('http://localhost:7000/api/contacts', contact, config);\r\n            dispatch({ type: ADD_CONTACT, payload: res.data });\r\n\r\n        } catch (err) {\r\n            dispatch({ type: CONTACT_ERROR, playload: err.response.msg });\r\n        }\r\n    }\r\n\r\n    //Delete Contact\r\n    const deleteContact = async(id) => {\r\n        try {\r\n            await axios.delete(`http://localhost:7000/api/contacts/${id}`);\r\n            dispatch({ type: DELETE_CONTACT, payload: id });\r\n\r\n        } catch (err) {\r\n            dispatch({ type: CONTACT_ERROR, playload: err.response.msg });\r\n        }\r\n        \r\n    }\r\n\r\n    //Update Contact\r\n    const updateContact = async(contact) => {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n\r\n        try {\r\n            const res = await axios.put(`http://localhost:7000/api/contacts/${contact._id}`, contact, config);\r\n            dispatch({ type: UPDATE_CONTACT, payload: res.data });\r\n\r\n        } catch (err) {\r\n            dispatch({ type: CONTACT_ERROR, playload: err.response.msg });\r\n        }\r\n        \r\n    }\r\n\r\n    //Clear Contacts\r\n    const clearContacts = () => {\r\n        dispatch({ type: CLEAR_CONTACTS });\r\n    }\r\n\r\n    //Set Current Contact\r\n    const setCurrent = contact => {\r\n        dispatch({ type: SET_CURRENT, payload: contact });\r\n    }\r\n\r\n    //Clear Current Contact\r\n    const clearCurrent = () => {\r\n        dispatch({ type: CLEAR_CURRENT });\r\n    }\r\n\r\n    //Filter Contacts\r\n    const filterContacts = text => {\r\n        dispatch({ type: FILTER_CONTACTS, payload: text });\r\n    }\r\n    //Clear Filter\r\n    const clearFilter = () => {\r\n        dispatch({ type: CLEAR_FILTER });\r\n    }\r\n\r\n    return (\r\n        <ContactContext.Provider\r\n            value={{\r\n                contacts: state.contacts,\r\n                current: state.current,\r\n                filtered: state.filtered,\r\n                error: state.error,\r\n                addContact,\r\n                deleteContact,\r\n                setCurrent,\r\n                clearCurrent,\r\n                updateContact,\r\n                filterContacts,\r\n                clearFilter,\r\n                getContacts,\r\n                clearContacts\r\n            }}\r\n        >\r\n            { props.children }\r\n        </ContactContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ContactState;"]},"metadata":{},"sourceType":"module"}