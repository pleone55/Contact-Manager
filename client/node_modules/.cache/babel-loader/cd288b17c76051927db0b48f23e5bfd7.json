{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Paul\\\\Desktop\\\\Projects\\\\react\\\\contact-manager\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/AlertContext';import AuthContext from'../../context/auth/AuthContext';var Register=function Register(props){var authContext=useContext(AuthContext);var registerUser=authContext.registerUser,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='User already exists'){setAlert(error,'danger');clearErrors();}//eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:'',confirmPassword:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,confirmPassword=user.confirmPassword;var onChange=function onChange(event){return setUser(_objectSpread({},user,_defineProperty({},event.target.name,event.target.value)));};var onSubmit=function onSubmit(event){event.preventDefault();if(name===''||email===''||password===''){setAlert('Please fill out each field appropriately','danger');}else if(confirmPassword!==password){setAlert('Passwords do not match','danger');}else{registerUser({name:name,email:email,password:password});}};return React.createElement(\"div\",{className:\"form-container\"},React.createElement(\"h1\",null,\"Account \",React.createElement(\"span\",{className:\"text-primary\"},\"Register\")),React.createElement(\"form\",{onSubmit:onSubmit},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,minLength:\"6\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"confirmPassword\"},\"Confirm Password\"),React.createElement(\"input\",{type:\"password\",name:\"confirmPassword\",value:confirmPassword,onChange:onChange})),React.createElement(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})));};export default Register;","map":{"version":3,"sources":["C:/Users/Paul/desktop/Projects/react/contact-manager/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","Register","props","authContext","registerUser","error","clearErrors","isAuthenticated","alertContext","setAlert","history","push","name","email","password","confirmPassword","user","setUser","onChange","event","target","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport AlertContext from '../../context/alert/AlertContext';\r\nimport AuthContext from '../../context/auth/AuthContext';\r\n\r\nconst Register = props => {\r\n    const authContext = useContext(AuthContext);\r\n    const { registerUser, error, clearErrors, isAuthenticated } = authContext;\r\n\r\n    const alertContext = useContext(AlertContext);\r\n    const { setAlert } = alertContext;\r\n\r\n    useEffect(() => {\r\n        if(isAuthenticated) {\r\n            props.history.push('/');\r\n        }\r\n\r\n        if(error === 'User already exists') {\r\n            setAlert(error, 'danger');\r\n            clearErrors();\r\n        }\r\n        //eslint-disable-next-line\r\n    }, [error, isAuthenticated, props.history]);\r\n\r\n    const [user, setUser] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n\r\n    const { name, email, password, confirmPassword } = user;\r\n\r\n    const onChange = event => setUser({ ...user, [event.target.name]: event.target.value });\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        if(name === '' || email === '' || password === ''){\r\n            setAlert('Please fill out each field appropriately', 'danger');\r\n        } else if(confirmPassword !== password) {\r\n            setAlert('Passwords do not match', 'danger');\r\n        } else {\r\n            registerUser({\r\n                name,\r\n                email,\r\n                password\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <h1>\r\n                Account <span className=\"text-primary\">Register</span>\r\n            </h1>\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input type=\"text\" name=\"name\" value={name} onChange={onChange} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} minLength=\"6\"/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                    <input type=\"password\" name=\"confirmPassword\" value={confirmPassword} onChange={onChange} />\r\n                </div>\r\n                <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}